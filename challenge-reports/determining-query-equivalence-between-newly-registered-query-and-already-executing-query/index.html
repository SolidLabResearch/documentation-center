
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Determining query equivalence between newly registered query and already executing query - SolidLab Documentation Center</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#determining-query-equivalence-between-newly-registered-query-and-already-executing-query-permalink" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
<!-- Add announcement here, including arbitrary HTML -->
Important: this is an initial version of our documentation center. Expect a lot of changes!

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SolidLab Documentation Center" class="md-header__button md-logo" aria-label="SolidLab Documentation Center" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M99.1 105.4C79 114 68.2 127.2 65.2 144.8c-2.4 14.1-.7 23.2 2 29.4 2.8 6.3 7.9 12.4 16.7 18.6 19.2 13.4 48.3 22.1 84.9 32.5 1 .3 1.9.6 2.9.8 32.7 9.3 72 20.6 100.9 40.7 15.7 10.9 29.9 25.5 38.6 45.1 8.8 19.8 10.8 42 6.6 66.3-7.3 42.5-35.3 71.7-71.8 87.3-35.4 15.2-79.1 17.9-123.7 10.9h-.2c-24-3.9-62.7-17.1-87.6-25.6-4.8-1.7-9.2-3.1-12.8-4.3-16.6-5.7-25.6-23.8-20.1-40.6s23.7-25.8 40.5-20.3C47 387.2 52.3 389 58 391c25.4 8.6 56.4 19.2 74.4 22.1 36.8 5.7 67.5 2.5 88.5-6.5 20.1-8.6 30.8-21.8 33.9-39.4 2.4-14.1.7-23.2-2-29.4-2.8-6.3-7.9-12.4-16.7-18.6-19.2-13.4-48.3-22.1-84.9-32.5-1-.3-1.9-.6-2.9-.8-32.7-9.3-72-20.6-100.9-40.7-15.7-10.9-29.9-25.5-38.6-45.1-8.8-19.8-10.8-42-6.6-66.3l31.5 5.5-31.6-5.4c7.3-42.5 35.3-71.7 71.8-87.3 35.4-15.2 79.1-17.9 123.7-10.9 13 2 52.4 9.6 66.6 13.4 17.1 4.5 27.2 22.1 22.7 39.2s-22.1 27.2-39.2 22.7c-11.2-3-48.1-10.2-60.1-12l4.9-31.5-4.9 31.5c-36.9-5.8-67.5-2.5-88.6 6.5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SolidLab Documentation Center
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Determining query equivalence between newly registered query and already executing query
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Welcome
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../getting-started/" class="md-tabs__link">
      Getting started
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../tutorials/" class="md-tabs__link">
      Tutorials
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../tools-libraries/" class="md-tabs__link">
      Tools and libraries
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../" class="md-tabs__link">
      Challenge reports
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../terminology/" class="md-tabs__link">
      Terminology
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../faq/" class="md-tabs__link">
      FAQ
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://github.com/SolidLabResearch/documentation-center/issues" class="md-tabs__link">
      Provide feedback
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SolidLab Documentation Center" class="md-nav__button md-logo" aria-label="SolidLab Documentation Center" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M99.1 105.4C79 114 68.2 127.2 65.2 144.8c-2.4 14.1-.7 23.2 2 29.4 2.8 6.3 7.9 12.4 16.7 18.6 19.2 13.4 48.3 22.1 84.9 32.5 1 .3 1.9.6 2.9.8 32.7 9.3 72 20.6 100.9 40.7 15.7 10.9 29.9 25.5 38.6 45.1 8.8 19.8 10.8 42 6.6 66.3-7.3 42.5-35.3 71.7-71.8 87.3-35.4 15.2-79.1 17.9-123.7 10.9h-.2c-24-3.9-62.7-17.1-87.6-25.6-4.8-1.7-9.2-3.1-12.8-4.3-16.6-5.7-25.6-23.8-20.1-40.6s23.7-25.8 40.5-20.3C47 387.2 52.3 389 58 391c25.4 8.6 56.4 19.2 74.4 22.1 36.8 5.7 67.5 2.5 88.5-6.5 20.1-8.6 30.8-21.8 33.9-39.4 2.4-14.1.7-23.2-2-29.4-2.8-6.3-7.9-12.4-16.7-18.6-19.2-13.4-48.3-22.1-84.9-32.5-1-.3-1.9-.6-2.9-.8-32.7-9.3-72-20.6-100.9-40.7-15.7-10.9-29.9-25.5-38.6-45.1-8.8-19.8-10.8-42-6.6-66.3l31.5 5.5-31.6-5.4c7.3-42.5 35.3-71.7 71.8-87.3 35.4-15.2 79.1-17.9 123.7-10.9 13 2 52.4 9.6 66.6 13.4 17.1 4.5 27.2 22.1 22.7 39.2s-22.1 27.2-39.2 22.7c-11.2-3-48.1-10.2-60.1-12l4.9-31.5-4.9 31.5c-36.9-5.8-67.5-2.5-88.6 6.5z"/></svg>

    </a>
    SolidLab Documentation Center
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        Tutorials
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tools-libraries/" class="md-nav__link">
        Tools and libraries
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Challenge reports
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../terminology/" class="md-nav__link">
        Terminology
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/SolidLabResearch/documentation-center/issues" class="md-nav__link">
        Provide feedback
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    Problem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approved-solution" class="md-nav__link">
    Approved solution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-flow" class="md-nav__link">
    User flow
  </a>
  
    <nav class="md-nav" aria-label="User flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#actorsactresses" class="md-nav__link">
    Actors/actresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preconditions" class="md-nav__link">
    Preconditions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steps" class="md-nav__link">
    Steps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postconditions" class="md-nav__link">
    Postconditions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#follow-up-actions" class="md-nav__link">
    Follow-up actions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-work" class="md-nav__link">
    Future work
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lessons-learned-about-developer-experience" class="md-nav__link">
    Lessons learned about developer experience
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributors" class="md-nav__link">
    Contributors
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<!--
Fill in the WebIDs of the people below.
Leave this in comments!
It's possible to have multiple people per role.

Challenge/scenario creator:
  - https://argahsuknesib.github.io/me
Solution creator:
  - https://argahsuknesib.github.io/me
Report writer:
  - https://pieterheyvaert.com/#me
-->

<h1 id="determining-query-equivalence-between-newly-registered-query-and-already-executing-query-permalink">Determining query equivalence between newly registered query and already executing query (<a href="https://github.com/SolidLabResearch/Challenges/blob/main/reports/determining-query-equivalence-between-newly-registered-query-and-already-executing-query.md">permalink</a>)</h1>
<p>The corresponding challenge is <a href="https://github.com/SolidLabResearch/Challenges/issues/106">#106</a>,
which contributes to scenario <a href="https://github.com/SolidLabResearch/Challenges/issues/16">#16</a>.
This challenge is an extension of challenge <a href="https://github.com/solidLabResearch/challenges/issues/84">#84</a>.</p>
<h2 id="problem">Problem</h2>
<!--
You can reuse the pitch of the challenge, but check if you need to make changes.
For example, it might happen that the approved solution does more than what the original pitch requested.
-->

<p>The <a href="https://github.com/argahsuknesib/solid-stream-aggregator">Solid Stream Aggregator</a> is a service that 
aggregates data streams from Solid pods and stores the aggregation in another pod. 
This aggregation uses 
the <a href="https://woutslabbinck.github.io/LDESinLDP/">LDES in LDP</a> specification. 
The user can register queries into the aggregator and 
generate a continuous materialized view over the streams stored in the pods. 
Moreover, multiple users can register the same query to the aggregator. 
On registering the same query, 
the aggregator currently instantiates a new process to compute and develop a continuous view. 
However, such an approach is resource-consuming and 
hinders the scalability of the aggregator. 
Therefore, there is a need for the aggregator to determine 
if a newly registered query is similar to an already executing query, and 
if so, not execute the query again but reuse the results of the already executing query. 
The Query Registry component of the aggregator keeps a record of 
the queries that are being executed currently and 
can be employed to identify query equivalence between 
a newly registered query and an already executing one.</p>
<h2 id="approved-solution">Approved solution</h2>
<!--
Provide information about the approved solution:
names of tools/libraries created, repos, and so on.
-->

<p>We developed a <a href="https://github.com/argahsuknesib/rspql-query-equivalence">library</a> to determine 
the equivalence between two 
<a href="https://re.public.polimi.it/retrieve/e0c31c0e-f3df-4599-e053-1705fe0aef77/RSP-QL-Semantics-A-Unifying%20Query%20Model%20to%20Explain%20Heterogeneity_11311-964309_Della%20Valle.pdf">RSP-QL</a> 
queries.
RSP-QL is an extension of SPARQL to support continuous querying of data streams.
These queries can work with timestamp-based RDF Stream Processing (RSP) engines.
We developed <a href="https://github.com/argahsuknesib/query-equivalence-demo">this demo</a> to show how the library works.</p>
<p>We made the following important technological decisions and assumptions:
- Since we are only interested in demonstrating the functionality of the Query Registry of the Solid Stream Aggregator, 
our demo doesn't include the actual aggregation of the different data streams. 
In case you wish to run the aggregator with pods and 
are interested in the aggregation results, 
you can check out <a href="https://github.com/SolidLabResearch/aggregator-description-demo">this demo</a>.</p>
<h2 id="user-flow">User flow</h2>
<!--
Describe a concrete user flow with the approved solution.
Complete the following sections:
-->

<h3 id="actorsactresses">Actors/actresses</h3>
<ul>
<li>User of the demo</li>
</ul>
<h3 id="preconditions">Preconditions</h3>
<ul>
<li>The user has Node.js installed.</li>
</ul>
<h3 id="steps">Steps</h3>
<ol>
<li>Clone the repository via
   <code>shell
   git clone https://github.com/argahsuknesib/query-equivalence-demo.git</code></li>
<li>Navigate to the folder <code>query-equivalence-demo</code> via
   <code>shell
   cd query-equivalence-demo</code></li>
<li>Install the dependencies via
   <code>shell
   npm i</code></li>
<li>Start the Community Solid Server instance that hosts data used by the queries via
   <code>shell
   npm run start-solid-server</code></li>
<li>Start the aggregator in a separate terminal via
   <code>shell
   npm run start demo</code></li>
<li>Register the first query
   <code>sparql
   PREFIX saref: &lt;https://saref.etsi.org/core/&gt; 
   PREFIX dahccsensors: &lt;https://dahcc.idlab.ugent.be/Homelab/SensorsAndActuators/&gt;
   PREFIX : &lt;https://rsp.js/&gt;
   REGISTER RStream &lt;output&gt; AS
   SELECT (AVG(?o) AS ?averageHR1)
   FROM NAMED WINDOW :w1 ON STREAM &lt;http://localhost:3000/dataset_participant1/data/&gt; [RANGE 10 STEP 2]
   WHERE{
       WINDOW :w1 { ?s saref:hasValue ?o .
                   ?s saref:relatesToProperty dahccsensors:wearable.bvp .}
   }</code>
   with the aggregator in a new terminal via
   <code>shell
   npm run query-one</code>
   The aggregator outputs the message<blockquote>
<p>The query you have registered is not already executing.</p>
</blockquote>
</li>
<li>Register the second query
   <code>sparql
   PREFIX saref: &lt;https://saref.etsi.org/core/&gt;
   PREFIX dahccsensors: &lt;https://dahcc.idlab.ugent.be/Homelab/SensorsAndActuators/&gt;
   PREFIX : &lt;https://rsp.js/&gt;
   REGISTER RStream &lt;output&gt; AS
   SELECT (AVG(?timestamp) AS ?averageTimestamp)
   FROM NAMED WINDOW :w1 ON STREAM &lt;http://localhost:3000/dataset_participant1/data/&gt; [RANGE 10 STEP 2]
   WHERE{
       WINDOW :w1 { ?s saref:hasTimestamp ?timestamp .}
   }</code>
   with the aggregator via
   <code>shell
   npm run query-two</code>
   The aggregator outputs the same message<blockquote>
<p>The query you have registered is not already executing.</p>
</blockquote>
</li>
</ol>
<p>Both queries are on the same data stream source, 
   but the basic graph patterns are not isomorphic. 
   Therefore, the aggregator registers both queries.
8. Register the third query
   <code>sparql
   PREFIX saref: &lt;https://saref.etsi.org/core/&gt; 
   PREFIX dahccsensors: &lt;https://dahcc.idlab.ugent.be/Homelab/SensorsAndActuators/&gt;
   PREFIX : &lt;https://rsp.js/&gt;
   REGISTER RStream &lt;output&gt; AS
   SELECT (AVG(?o) AS ?averageHR1)
   FROM NAMED WINDOW :w1 ON STREAM &lt;http://localhost:3000/dataset_participant1/data/&gt; [RANGE 10 STEP 2]
   WHERE{
       WINDOW :w1 { ?s saref:hasValue ?o .
                   ?s saref:relatesToProperty dahccsensors:wearable.heartRate .}
   }</code>
   with the aggregator via
   <code>shell
   npm run query-three</code>
   The aggregator outputs the message</p>
<blockquote>
<p>The query you have registered is not already executing.
9. Register the fourth query
   <code>sparql
   PREFIX saref: &lt;https://saref.etsi.org/core/&gt;
   PREFIX dahccsensors: &lt;https://dahcc.idlab.ugent.be/Homelab/SensorsAndActuators/&gt;
   PREFIX : &lt;https://rsp.js/&gt;
   REGISTER RStream &lt;output&gt; AS
   SELECT (AVG(?o) AS ?averageHR1)
   FROM NAMED WINDOW :w1 ON STREAM &lt;http://localhost:3000/dataset_participant1/data/&gt; [RANGE 10 STEP 2]
   WHERE{
       WINDOW :w1 {
           ?subject saref:relatesToProperty dahccsensors:wearable.heartRate .
           ?subject saref:hasValue ?object . 
       }
   }</code>
   with the aggregator via
   <code>shell
   npm run query-four</code>
   The aggregator outputs the message
The query you have registered is already executing.</p>
</blockquote>
<p>These queries are on the same data stream source and 
   the basic graph patterns are isomorphic. 
   Therefore, the aggregator will execute only one of the queries.
10. Register the fifth query
   <code>sparql
   PREFIX saref: &lt;https://saref.etsi.org/core/&gt; 
   PREFIX dahccsensors: &lt;https://dahcc.idlab.ugent.be/Homelab/SensorsAndActuators/&gt;
   PREFIX : &lt;https://rsp.js/&gt;
   REGISTER RStream &lt;output&gt; AS
   SELECT (AVG(?object) AS ?averageHR1)
   FROM NAMED WINDOW :w1 ON STREAM &lt;http://localhost:3000/dataset_participant1/data/&gt; [RANGE 10 STEP 2]
   WHERE{
       WINDOW :w1 {
           ?subject saref:relatesToProperty dahccsensors:wearable.Accelerometer .
           ?subject saref:hasValue ?object . 
       }
   }</code>
   with the aggregator via
   <code>shell
   npm run query-five</code>
   The aggregator outputs the message</p>
<blockquote>
<p>The query you have registered is not already executing.
11. Register the sixth query
   <code>sparql
   PREFIX saref: &lt;https://saref.etsi.org/core/&gt; 
   PREFIX dahccsensors: &lt;https://dahcc.idlab.ugent.be/Homelab/SensorsAndActuators/&gt;
   PREFIX : &lt;https://rsp.js/&gt;
   REGISTER RStream &lt;output&gt; AS
   SELECT (AVG(?object) AS ?averageHR1)
   FROM NAMED WINDOW :w1 ON STREAM &lt;http://localhost:3000/dataset_participant2/data/&gt; [RANGE 10 STEP 2]
   WHERE{
       WINDOW :w1 {
           ?subject saref:relatesToProperty dahccsensors:wearable.Accelerometer .
           ?subject saref:hasValue ?object .
       }
   }</code>
   with the aggregator via
      <code>shell
      npm run query-six</code>
   The aggregator outputs the message
The query you have registered is not already executing.</p>
</blockquote>
<p>For these two queries, the basic graph patterns are isomorphic, 
   but the data stream sources are different. 
   In this case, the aggregator will execute both queries.</p>
<h3 id="postconditions">Postconditions</h3>
<p>None.</p>
<h2 id="follow-up-actions">Follow-up actions</h2>
<!--
List all concrete follow-up actions that someone has to do.
For example, adding helper code from the solution to Comunica.
-->

<p>None.</p>
<h2 id="future-work">Future work</h2>
<!--
List ideas for future work.
These ideas don't have to be concrete.
You can create a new challenge/scenario for each idea.
-->

<ul>
<li>Support query containment as well as sharing of intermediate RDF result sharing 
  between data streams.</li>
</ul>
<h2 id="lessons-learned-about-developer-experience">Lessons learned about developer experience</h2>
<!--
List all lessons learned about your experience as a Solid developer:
issues you encountered, tasks that could be automated or could be made easier and so on.
-->

<p>None.</p>
<h2 id="contributors">Contributors</h2>
<ul>
<li>Challenge: Kushagra Singh Bisen</li>
<li>Solution: Kushagra Singh Bisen</li>
<li>Report: Pieter Heyvaert</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 <a href="https://solidlab.be/">SolidLab Flanders</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>