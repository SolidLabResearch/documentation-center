
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Temporal Usage Control Policy execution for Solid Resources ([permalink](https://github.com/SolidLabResearch/Challenges/blob/main/reports/temporal-usage-control-policy-execution-for-solid-resources.md)); - SolidLab Documentation Center</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#temporal-usage-control-policy-execution-for-solid-resources-permalink" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
<!-- Add announcement here, including arbitrary HTML -->
Important: this is an initial version of our documentation center. Expect a lot of changes!

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SolidLab Documentation Center" class="md-header__button md-logo" aria-label="SolidLab Documentation Center" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M99.1 105.4C79 114 68.2 127.2 65.2 144.8c-2.4 14.1-.7 23.2 2 29.4 2.8 6.3 7.9 12.4 16.7 18.6 19.2 13.4 48.3 22.1 84.9 32.5 1 .3 1.9.6 2.9.8 32.7 9.3 72 20.6 100.9 40.7 15.7 10.9 29.9 25.5 38.6 45.1 8.8 19.8 10.8 42 6.6 66.3-7.3 42.5-35.3 71.7-71.8 87.3-35.4 15.2-79.1 17.9-123.7 10.9h-.2c-24-3.9-62.7-17.1-87.6-25.6-4.8-1.7-9.2-3.1-12.8-4.3-16.6-5.7-25.6-23.8-20.1-40.6s23.7-25.8 40.5-20.3C47 387.2 52.3 389 58 391c25.4 8.6 56.4 19.2 74.4 22.1 36.8 5.7 67.5 2.5 88.5-6.5 20.1-8.6 30.8-21.8 33.9-39.4 2.4-14.1.7-23.2-2-29.4-2.8-6.3-7.9-12.4-16.7-18.6-19.2-13.4-48.3-22.1-84.9-32.5-1-.3-1.9-.6-2.9-.8-32.7-9.3-72-20.6-100.9-40.7-15.7-10.9-29.9-25.5-38.6-45.1-8.8-19.8-10.8-42-6.6-66.3l31.5 5.5-31.6-5.4c7.3-42.5 35.3-71.7 71.8-87.3 35.4-15.2 79.1-17.9 123.7-10.9 13 2 52.4 9.6 66.6 13.4 17.1 4.5 27.2 22.1 22.7 39.2s-22.1 27.2-39.2 22.7c-11.2-3-48.1-10.2-60.1-12l4.9-31.5-4.9 31.5c-36.9-5.8-67.5-2.5-88.6 6.5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SolidLab Documentation Center
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Temporal Usage Control Policy execution for Solid Resources ([permalink](https://github.com/SolidLabResearch/Challenges/blob/main/reports/temporal-usage-control-policy-execution-for-solid-resources.md));
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Welcome
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../getting-started/" class="md-tabs__link">
      Getting started
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../tutorials/" class="md-tabs__link">
      Tutorials
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../tools-libraries/" class="md-tabs__link">
      Tools and libraries
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../" class="md-tabs__link">
      Challenge reports
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../terminology/" class="md-tabs__link">
      Terminology
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../faq/" class="md-tabs__link">
      FAQ
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://github.com/SolidLabResearch/documentation-center/issues" class="md-tabs__link">
      Provide feedback
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SolidLab Documentation Center" class="md-nav__button md-logo" aria-label="SolidLab Documentation Center" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M99.1 105.4C79 114 68.2 127.2 65.2 144.8c-2.4 14.1-.7 23.2 2 29.4 2.8 6.3 7.9 12.4 16.7 18.6 19.2 13.4 48.3 22.1 84.9 32.5 1 .3 1.9.6 2.9.8 32.7 9.3 72 20.6 100.9 40.7 15.7 10.9 29.9 25.5 38.6 45.1 8.8 19.8 10.8 42 6.6 66.3-7.3 42.5-35.3 71.7-71.8 87.3-35.4 15.2-79.1 17.9-123.7 10.9h-.2c-24-3.9-62.7-17.1-87.6-25.6-4.8-1.7-9.2-3.1-12.8-4.3-16.6-5.7-25.6-23.8-20.1-40.6s23.7-25.8 40.5-20.3C47 387.2 52.3 389 58 391c25.4 8.6 56.4 19.2 74.4 22.1 36.8 5.7 67.5 2.5 88.5-6.5 20.1-8.6 30.8-21.8 33.9-39.4 2.4-14.1.7-23.2-2-29.4-2.8-6.3-7.9-12.4-16.7-18.6-19.2-13.4-48.3-22.1-84.9-32.5-1-.3-1.9-.6-2.9-.8-32.7-9.3-72-20.6-100.9-40.7-15.7-10.9-29.9-25.5-38.6-45.1-8.8-19.8-10.8-42-6.6-66.3l31.5 5.5-31.6-5.4c7.3-42.5 35.3-71.7 71.8-87.3 35.4-15.2 79.1-17.9 123.7-10.9 13 2 52.4 9.6 66.6 13.4 17.1 4.5 27.2 22.1 22.7 39.2s-22.1 27.2-39.2 22.7c-11.2-3-48.1-10.2-60.1-12l4.9-31.5-4.9 31.5c-36.9-5.8-67.5-2.5-88.6 6.5z"/></svg>

    </a>
    SolidLab Documentation Center
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        Tutorials
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tools-libraries/" class="md-nav__link">
        Tools and libraries
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Challenge reports
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../terminology/" class="md-nav__link">
        Terminology
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/SolidLabResearch/documentation-center/issues" class="md-nav__link">
        Provide feedback
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    Problem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approved-solution" class="md-nav__link">
    Approved solution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#screencast" class="md-nav__link">
    Screencast
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-flow" class="md-nav__link">
    User flow
  </a>
  
    <nav class="md-nav" aria-label="User flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#actorsactresses" class="md-nav__link">
    Actors/actresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preconditions" class="md-nav__link">
    Preconditions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steps" class="md-nav__link">
    Steps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postconditions" class="md-nav__link">
    Postconditions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#follow-up-actions" class="md-nav__link">
    Follow-up actions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-work" class="md-nav__link">
    Future work
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lessons-learned-about-developer-experience" class="md-nav__link">
    Lessons learned about developer experience
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="temporal-usage-control-policy-execution-for-solid-resources-permalink">Temporal Usage Control Policy execution for Solid Resources (<a href="https://github.com/SolidLabResearch/Challenges/blob/main/reports/temporal-usage-control-policy-execution-for-solid-resources.md">permalink</a>);</h1>
<p>The corresponding challenge is <a href="https://github.com/SolidLabResearch/Challenges/issues/111">#111</a>.</p>
<h2 id="problem">Problem</h2>
<p>Sharing data with other people, apps, and other agents is common in the Solid ecosystem.
But you might not always want to share the data forever.
You might want to share specific data for a limited amount of time.
Therefore, we want a proof-of-concept that shows how we can give temporary access to a resource.</p>
<p>The <a href="https://internationaldataspaces.org/">International Data Space Association (IDSA)</a> has already defined some 
<a href="https://international-data-spaces-association.github.io/DataspaceConnector/Documentation/v6/UsageControl">Usage Control Policies (UCPs)</a> 
such as the Duration-restricted Data Usage Policy.
It would be preferred if the implementation uses such a policy as a basis.</p>
<h2 id="approved-solution">Approved solution</h2>
<!--
Provide information about the approved solution:
names of tools/libraries created, repos, and so on.
-->

<p>We developed two plugins for <a href="https://github.com/eyereasoner/Koreografeye">Koreografeye</a>: 
<a href="https://github.com/SolidLabResearch/Solid-Agent/blob/main/src/plugins/AclPlugin.ts">AclPlugin</a> and 
<a href="https://github.com/SolidLabResearch/Solid-Agent/blob/main/src/plugins/CronPlugin.ts">CronPlugin</a>.
The AclPlugin allows updating the ACL of a resource.
The CronPlugin allows executing another plugin at a specific time.
We also created 
<a href="https://github.com/SolidLabResearch/Solid-Agent/blob/main/rules/usage-control/CronRule.n3">N3 rules</a>
to define how and when these plugins are executed.
The <a href="https://github.com/SolidLabResearch/Solid-Agent">Solid Agent</a> brings all these components together:
it reads the policies, uses Koreografeye to reason over the policies and the rules, and
identifies what tasks need to be executed using the aforementioned plugins.
You find more information about how it works 
<a href="https://github.com/SolidLabResearch/Solid-Agent/tree/612b9efbbb7a63674d0e9350c8ac5d49427b9195/documentation/ucp#how-does-it-work">here</a>.</p>
<h2 id="screencast">Screencast</h2>
<p>You find a screencast of the plugin 
<a href="https://raw.githubusercontent.com/woutslabbinck/Solid-Agent/58da48d3bf0cadf113a26911f5304456288e4441/documentation/ucp/demo-Duration-UCP.mp4">here</a>.
Note that the screencast has no audio, but we explain what is presented next.</p>
<p>In this screencast, you see three windows:</p>
<ul>
<li>On the left we have <a href="https://penny.vincenttunru.com/">Penny</a> where we've logged in 
  with WebID <code>https://woutslabbinck.solidcommunity.net/profile/card#me</code>.
  In this window, we can now browse resources on Solid Pods while being authenticated.</li>
<li>On the top right the Solid Agent in the <code>DemoUCPAgent.ts</code> configuration is running (see step 2).</li>
<li>
<p>On the bottom right, there is a blank terminal which we will use to send a policy to 
a container that we call the Usage Control Policy Knowledge Graph (UCP KG).</p>
</li>
<li>
<p>We are authenticated and 
see the storage of the Solid pod of <a href="https://woutslabbinck.solidcommunity.net/profile/card#me">woutslabbinck</a>.</p>
</li>
<li><a href="https://woutslabbinck.solidcommunity.net/profile/card#me">woutslabbinck</a> wants to access the resource at 
URL <code>http://localhost:3000/ldes</code>, but does not have access.</li>
<li>However, there is a policy from the owner of that resource that can be activated.
This policy allows the assignee (<a href="https://woutslabbinck.solidcommunity.net/profile/card#me">woutslabbinck</a>) to have 
read access to the <a href="http://localhost:3000/ldes">resource</a> for a period of 30 seconds (<code>"PT30S"^^xsd:duration</code>).</li>
<li>In the bottom right pane we send this policy to the UCP KG, 
   which the DemoUCPAgent then immediately enforces. </li>
<li>Now, while authenticated as <a href="https://woutslabbinck.solidcommunity.net/profile/card#me">woutslabbinck</a>, 
we can see the resource in Penny.</li>
<li>When 30 seconds have passed
the DemoUCPAgent executes the final part of the policy. 
It takes away read access control for <a href="https://woutslabbinck.solidcommunity.net/profile/card#me">woutslabbinck</a>, 
as defined in the Usage Control Policy.</li>
</ul>
<!--
Provide a list of important technical decisions and assumptions.
-->
<p>We made the following important technological decisions and assumptions:</p>
<ul>
<li>The UCP KG is modelled as a Solid container, 
  which furthermore requires that the Solid server supports 
  the <a href="https://solidproject.org/TR/notifications-protocol">Solid Notifications Protocol</a> v0.2.0.</li>
<li>This way, the agent can listen to any policy addition.</li>
<li>Additionally, we can then assume that the UCP KG is valid.
    The agent does not check whether the complete set of UCPs are valid or not. 
    It will only execute them.
    Any conflicts in the UCP KG thus are the fault of the end-user, not of the agent.</li>
<li>For each target resource (<code>ids:target</code>), the agent MUST have <code>acl:Control</code> permission.</li>
<li>The <a href="https://solidproject.org/TR/protocol">Solid Protocol</a> defines two options for Authorization (§11): 
  Web Access Control (WAC) and Access Control Policy (ACP).
  The agent assumes that the Solid server hosting the target resources support WAC (and therefore Access Control List (ACL) resources).</li>
<li>The N3 rules contain built-ins that do work with the <a href="https://github.com/eyereasoner/eye">EYE reasoner</a>, 
  though no guarantees can be made with other N3 reasoners.</li>
<li>Only the <em>Duration-restricted Data Usage</em> from 
  <a href="https://international-data-spaces-association.github.io/DataspaceConnector/Documentation/v6/UsageControl#ids-usage-control-policies">IDS Usage Control Policies</a> 
  has been implemented and tested as N3 Rule.</li>
<li>Due to how <a href="https://github.com/eyereasoner/Koreografeye">Koreografeye</a> extracts policies from the Reasoning Result, 
    the cardinality of target resources and assignees can only be 1.
    We made a <a href="https://github.com/eyereasoner/Koreografeye/issues/10">feature request</a> to solve this problem at its root.</li>
<li>We added the triple <code>&lt;permissionIdentifier&gt; &lt;odrl:assignee&gt; &lt;WebID&gt; .</code> to the UCP to make sure we have a WebID to 
    which we can give access (though this was not described in 
    the <a href="https://international-data-spaces-association.github.io/DataspaceConnector/Documentation/v6/UsageControl#duration-usage-2">Pattern examples</a>).</li>
<li>Giving Permission equals to giving read access (<code>acl:Read</code>).</li>
</ul>
<p>They are originally described <a href="https://github.com/SolidLabResearch/Solid-Agent/tree/feat/cron-plugin/documentation/ucp#limitationsassumptions">here</a>.</p>
<h2 id="user-flow">User flow</h2>
<!--
Describe a concrete user flow with the approved solution.
Complete the following sections:
-->

<h3 id="actorsactresses">Actors/actresses</h3>
<ul>
<li>User of the application.</li>
</ul>
<h3 id="preconditions">Preconditions</h3>
<ul>
<li>The user has Node.js installed.</li>
<li>The user has a WebID and pod.
  You can create both for testing via the <a href="https://pod.playground.solidlab.be/">Pod Playground of SolidLab</a>.</li>
</ul>
<h3 id="steps">Steps</h3>
<ol>
<li>Clone <a href="https://github.com/SolidLabResearch/Solid-Agent">the repository</a> via
   <code>shell
   git clone https://github.com/SolidLabResearch/Solid-Agent.git</code></li>
<li>Navigate to the folder <code>Solid-Agent</code> via
   <code>shell
   cd Solid-Agent</code></li>
<li>Check out commit <a href="https://github.com/SolidLabResearch/Solid-Agent/commit/6d7c236ef7c872ae1430008708b465be6b4d027b">6d7c236</a> via
   <code>shell
   git checkout 6d7c236</code></li>
<li>Install dependencies via 
   <code>shell
   npm i</code></li>
<li>Start an instance of the <a href="https://github.com/CommunitySolidServer/CommunitySolidServer">Community Solid Server</a> (CSS) via
   <code>shell
   npx community-solid-server -c memory-no-setup.json</code>
   This instance (port 3000) will contain the policies and the resource to which we will grant access.</li>
<li>Start the DemoUCPAgent via
   <code>shell
   npx ts-node indexUCP.ts</code>
   This code also starts a CSS instance (port 3123) for the Solid Actor and 
   creates an account so the Solid Actor has a WebID (http://localhost:3123/solid/profile/card#me).
   Furthermore, it creates a policy container (http://localhost:3000/policies/) and 
   creates a resource (http://localhost:3000/ldes) which is used as target resource.</li>
<li>Open the Web app <a href="https://penny.vincenttunru.com/">Penny</a>.</li>
<li>Log in with your WebOID.</li>
<li>Try to read the resource http://localhost:3000/ldes.
   You are not able to read the resource, because you don't have access yet.</li>
<li>Add your WebID in the file <code>UcpSendPolicy.ts</code> on line 37.
    We will grant this WebID access in the next step.</li>
<li>Send a duration usage-restricted access UCP to the policy container via
    <code>shell
    npx ts-node UcpSendPolicy.ts</code></li>
</ol>
<h3 id="postconditions">Postconditions</h3>
<ul>
<li>You are able  to read the resource with Penny.</li>
</ul>
<h2 id="follow-up-actions">Follow-up actions</h2>
<!--
List all concrete follow-up actions that someone has to do.
For example, adding helper code from the solution to Comunica.
-->

<ul>
<li>Due to how <a href="https://github.com/eyereasoner/Koreografeye">Koreografeye</a> extracts policies from the Reasoning Result,
  the cardinality of target resources and assignees can only be 1.
  We made a <a href="https://github.com/eyereasoner/Koreografeye/issues/10">feature request</a> to solve this problem at its root.</li>
<li>Investigate if the triple <code>&lt;permissionIdentifier&gt; &lt;odrl:assignee&gt; &lt;WebID&gt; .</code> is the best way to add the WebID to
  which we give access.</li>
</ul>
<h2 id="future-work">Future work</h2>
<!--
List ideas for future work.
These ideas don't have to be concrete.
You can create a new challenge/scenario for each idea.
-->

<ul>
<li>Combine temporary access with the <a href="https://github.com/SolidLabResearch/LocationHistory">location app</a> 
of challenge <a href="https://github.com/SolidLabResearch/Challenges/issues/10">#10</a>.
We described this in challenge <a href="https://github.com/SolidLabResearch/Challenges/issues/116">#116</a></li>
</ul>
<h2 id="lessons-learned-about-developer-experience">Lessons learned about developer experience</h2>
<ul>
<li>When manually editing WebIDs and ACL files, and introducing errors, 
it is hard to find these errors. 
It would be useful to have a dedicated library to edit these types of files.
Another option would be to let the server return a 400 status code when writing invalid RDF to resources.</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 <a href="https://solidlab.be/">SolidLab Flanders</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>