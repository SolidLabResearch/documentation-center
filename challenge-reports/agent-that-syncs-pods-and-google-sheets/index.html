
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Agent that syncs pods and google sheets - SolidLab Documentation Center</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#agent-that-syncs-pods-and-google-sheets-permalink" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
<!-- Add announcement here, including arbitrary HTML -->
Important: this is an initial version of our documentation center. Expect a lot of changes!

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SolidLab Documentation Center" class="md-header__button md-logo" aria-label="SolidLab Documentation Center" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M99.1 105.4C79 114 68.2 127.2 65.2 144.8c-2.4 14.1-.7 23.2 2 29.4 2.8 6.3 7.9 12.4 16.7 18.6 19.2 13.4 48.3 22.1 84.9 32.5 1 .3 1.9.6 2.9.8 32.7 9.3 72 20.6 100.9 40.7 15.7 10.9 29.9 25.5 38.6 45.1 8.8 19.8 10.8 42 6.6 66.3-7.3 42.5-35.3 71.7-71.8 87.3-35.4 15.2-79.1 17.9-123.7 10.9h-.2c-24-3.9-62.7-17.1-87.6-25.6-4.8-1.7-9.2-3.1-12.8-4.3-16.6-5.7-25.6-23.8-20.1-40.6s23.7-25.8 40.5-20.3C47 387.2 52.3 389 58 391c25.4 8.6 56.4 19.2 74.4 22.1 36.8 5.7 67.5 2.5 88.5-6.5 20.1-8.6 30.8-21.8 33.9-39.4 2.4-14.1.7-23.2-2-29.4-2.8-6.3-7.9-12.4-16.7-18.6-19.2-13.4-48.3-22.1-84.9-32.5-1-.3-1.9-.6-2.9-.8-32.7-9.3-72-20.6-100.9-40.7-15.7-10.9-29.9-25.5-38.6-45.1-8.8-19.8-10.8-42-6.6-66.3l31.5 5.5-31.6-5.4c7.3-42.5 35.3-71.7 71.8-87.3 35.4-15.2 79.1-17.9 123.7-10.9 13 2 52.4 9.6 66.6 13.4 17.1 4.5 27.2 22.1 22.7 39.2s-22.1 27.2-39.2 22.7c-11.2-3-48.1-10.2-60.1-12l4.9-31.5-4.9 31.5c-36.9-5.8-67.5-2.5-88.6 6.5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SolidLab Documentation Center
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Agent that syncs pods and google sheets
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Welcome
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../getting-started/" class="md-tabs__link">
      Getting started
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../tutorials/" class="md-tabs__link">
      Tutorials
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../tools-libraries/" class="md-tabs__link">
      Tools and libraries
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../" class="md-tabs__link">
      Challenge reports
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../terminology/" class="md-tabs__link">
      Terminology
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../faq/" class="md-tabs__link">
      FAQ
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://github.com/SolidLabResearch/documentation-center/issues" class="md-tabs__link">
      Provide feedback
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SolidLab Documentation Center" class="md-nav__button md-logo" aria-label="SolidLab Documentation Center" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M99.1 105.4C79 114 68.2 127.2 65.2 144.8c-2.4 14.1-.7 23.2 2 29.4 2.8 6.3 7.9 12.4 16.7 18.6 19.2 13.4 48.3 22.1 84.9 32.5 1 .3 1.9.6 2.9.8 32.7 9.3 72 20.6 100.9 40.7 15.7 10.9 29.9 25.5 38.6 45.1 8.8 19.8 10.8 42 6.6 66.3-7.3 42.5-35.3 71.7-71.8 87.3-35.4 15.2-79.1 17.9-123.7 10.9h-.2c-24-3.9-62.7-17.1-87.6-25.6-4.8-1.7-9.2-3.1-12.8-4.3-16.6-5.7-25.6-23.8-20.1-40.6s23.7-25.8 40.5-20.3C47 387.2 52.3 389 58 391c25.4 8.6 56.4 19.2 74.4 22.1 36.8 5.7 67.5 2.5 88.5-6.5 20.1-8.6 30.8-21.8 33.9-39.4 2.4-14.1.7-23.2-2-29.4-2.8-6.3-7.9-12.4-16.7-18.6-19.2-13.4-48.3-22.1-84.9-32.5-1-.3-1.9-.6-2.9-.8-32.7-9.3-72-20.6-100.9-40.7-15.7-10.9-29.9-25.5-38.6-45.1-8.8-19.8-10.8-42-6.6-66.3l31.5 5.5-31.6-5.4c7.3-42.5 35.3-71.7 71.8-87.3 35.4-15.2 79.1-17.9 123.7-10.9 13 2 52.4 9.6 66.6 13.4 17.1 4.5 27.2 22.1 22.7 39.2s-22.1 27.2-39.2 22.7c-11.2-3-48.1-10.2-60.1-12l4.9-31.5-4.9 31.5c-36.9-5.8-67.5-2.5-88.6 6.5z"/></svg>

    </a>
    SolidLab Documentation Center
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        Tutorials
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tools-libraries/" class="md-nav__link">
        Tools and libraries
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Challenge reports
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../terminology/" class="md-nav__link">
        Terminology
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/SolidLabResearch/documentation-center/issues" class="md-nav__link">
        Provide feedback
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    Problem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approved-solution" class="md-nav__link">
    Approved solution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-flow" class="md-nav__link">
    User flow
  </a>
  
    <nav class="md-nav" aria-label="User flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#actorsactresses" class="md-nav__link">
    Actors/actresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preconditions" class="md-nav__link">
    Preconditions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steps" class="md-nav__link">
    Steps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postconditions" class="md-nav__link">
    Postconditions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#follow-up-actions" class="md-nav__link">
    Follow-up actions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-work" class="md-nav__link">
    Future work
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lessons-learned-about-developer-experience" class="md-nav__link">
    Lessons learned about developer experience
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributors" class="md-nav__link">
    Contributors
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<!--
Fill in the WebIDs of the people below.
Leave this in comments!
It's possible to have multiple people per role.

Challenge/scenario creator:
  - https://pieterheyvaert.com/#me
Solution creator:
  - https://pieterheyvaert.com/#me
Report writer:
  - https://pieterheyvaert.com/#me
-->

<h1 id="agent-that-syncs-pods-and-google-sheets-permalink">Agent that syncs pods and Google Sheets (<a href="https://github.com/SolidLabResearch/Challenges/blob/main/reports/agent-that-syncs-pods-and-google-sheets.md">permalink</a>)</h1>
<p>The corresponding challenge is <a href="https://github.com/SolidLabResearch/Challenges/issues/120">#120</a>,
which contributes to scenario <a href="https://github.com/SolidLabResearch/Challenges/issues/119">#119</a>.</p>
<h2 id="problem">Problem</h2>
<!--
You can reuse the pitch of the challenge, but check if you need to make changes.
For example, it might happen that the approved solution does more than what the original pitch requested.
-->

<p>A lot of users use Google Sheets to view and edit data.
This data can be stored in Google Sheets itself or
it can be coming from an external data source such as a
<a href="https://coefficient.io/how-to-connect-mysql-database-to-google-sheets">MySQL database</a> or
<a href="https://hightouch.com/integrations/google-sheets-source-to-mongodb">MongoDB</a>.
So far, there is no solution that exists that allows doing this with data in Solid pods.
Challenge <a href="https://github.com/SolidLabResearch/Challenges/issues/120">#120</a>
focuses on the agent/backend part of a solution for this problem.</p>
<h2 id="approved-solution">Approved solution</h2>
<!--
Provide information about the approved solution:
names of tools/libraries created, repos, and so on.
-->

<p>We created an <a href="https://github.com/SolidLabResearch/google-sheet-sync/releases/tag/v1.0.0">agent</a> that
syncs data between a Google Sheet and a resource on a Solid pod.
It has the following features:</p>
<ul>
<li>Users define which Google Sheet and resource the agent syncs.</li>
<li>Users define via a SPARQL query what data the agent selects from the resource.</li>
<li>Users define via YARRRML rules how the data from the sheet is converted to RDF before it is stored in the resource.</li>
<li>The agent overwrites the sheet with all the queried data when it launches.</li>
<li>The agent periodically checks the sheet for changes and stores these changes in the resource.</li>
<li>The agent only works with public resources.</li>
</ul>
<p>You find a screencast of the agent <a href="https://cloud.ilabt.imec.be/index.php/s/eFrEKF2YCkSx22j">here</a>.
You find the details on how to configure the agent for your use case
<a href="https://github.com/SolidLabResearch/google-sheet-sync/tree/fac52cc087d999e8b3de465c4871f5e2ba06ab62#configuration">here</a>.
This includes how to use your own sheets, pods and queries.</p>
<!--
Provide a list of important technical decisions and assumptions.
-->
<p>We made the following important technological decisions and assumptions:</p>
<ul>
<li>We did not include Solid authentication in this agent
  because we have done authentication in other challenges, and
  it is not crucial for this challenge.
  <a href="https://github.com/SolidLabResearch/google-sheet-sync/issues/13">This</a> is the corresponding issue to implement this.</li>
<li>We compare the RDF of the original data in the sheet with the RDF of the current data in the sheet to determine
what triples needed to be added to and deleted from the resource.
See this
<a href="https://github.com/SolidLabResearch/google-sheet-sync/blob/fac52cc087d999e8b3de465c4871f5e2ba06ab62/src/main.js#L171">part</a>
of the code.</li>
<li>We use a public instance of the <a href="https://github.com/RMLio/rmlmapper-webapi-js">RMLMapper Web API</a> to convert
data from the sheet to RDF.
It is possible to set up a local instance of this API if you don't want to use a public one.</li>
<li>We make use of the <a href="https://github.com/googleapis/google-api-nodejs-client">googleapis</a> to interact with Google Sheets.
But we did not find any open-source library that
already does the two-way syncing of Google Sheets with another data source.
And to which we could directly add support for Solid.
We either found snippets that use the aforementioned library or
commercial solutions that are not open source.</li>
<li>The agent needs access and refresh tokens to interact with Google Sheets on behalf of the user of the sheet.
The agent reads these tokens from a JSON file.
How the tokens are added to the JSON file is out of scope of the agent.
Therefore, we provide an
<a href="https://github.com/SolidLabResearch/google-sheet-sync/tree/fac52cc087d999e8b3de465c4871f5e2ba06ab62#oauth2-tokens">authentication server</a>.
This server asks the user of the sheet to log in with their Google account and
give access to the agent to make changes to Google Sheets.</li>
</ul>
<p>Below you find a sequence diagram of how the agent works with the resource and the Google Sheet.</p>
<p><img alt="A sequence diagram of how the agent works.
It has 2 actors: agent user and sheet user.
It has 3 participants: sync agent, resource, Google Sheet.
It has 12 steps, which are explained below in detail as well.
" src="../img/google-sheet-sync-sequence-diagram.png" /></p>
<p>The diagram has the following steps:</p>
<ol>
<li>The user of the agent configures the agent via a config file.</li>
<li>The user of the agent starts the agent.</li>
<li>The agent queries the data from the resource on the pod.</li>
<li>The resource returns the data as RDF.</li>
<li>The agent converts the RDF to a 2D-array.</li>
<li>The agent fills the sheet with the data from the array.</li>
<li>The user of the sheet edits one or more fields.</li>
<li>Periodically the agent checks for changes.
This starts with querying the data from the sheet.</li>
<li>The sheet returns the data.</li>
<li>The agent checks if there are changes on the data.</li>
<li>If there are changes, the agent converts the changes to RDF.</li>
<li>The agent writes the changes to the resource.</li>
</ol>
<h2 id="user-flow">User flow</h2>
<!--
Describe a concrete user flow with the approved solution.
Complete the following sections:
-->

<p>This user flow describes how to set up a demo of the agent.</p>
<h3 id="actorsactresses">Actors/actresses</h3>
<ul>
<li>User of the agent.</li>
<li>User of the Google Sheet.</li>
<li>User of the pod.</li>
</ul>
<p>In the steps below we don't make a difference between the different users
as these steps are only meant to demo the solution of the challenge.</p>
<h3 id="preconditions">Preconditions</h3>
<ul>
<li>The users of the agent and pod have Node.js installed.</li>
<li>The user of the agent has set a Client ID and Secret for the Google API.
  See <a href="https://github.com/SolidLabResearch/google-sheet-sync#google-sheet-api">these instructions</a>.</li>
<li>The user of Google Sheet has a sheet that the agent can sync with.</li>
</ul>
<h3 id="steps">Steps</h3>
<ol>
<li>Clone the <a href="https://github.com/SolidLabResearch/google-sheet-sync/">repository</a> (v1.0.0) via</li>
</ol>
<p><code>shell
   git clone -b v1.0.0 https://github.com/SolidLabResearch/google-sheet-sync.git</code></p>
<ol>
<li>Install the dependencies via</li>
</ol>
<p><code>shell
   npm i</code></p>
<ol>
<li>Start the authentication server that enables us to give access to a Google account via</li>
</ol>
<p><code>shell
   npm run auth</code></p>
<p>The server is ready when the following message appears in the terminal:</p>
<p><code>text
   Authentication server running on port 8081</code></p>
<p>We will use this account to access the aforementioned Google Sheet.
4. Navigate to <a href="http://localhost:8081">http://localhost:8081</a> in the browser.
5. Click on the "Authenticate" button.
6. Log in with the Google account that has access to the aforementioned Google Sheet.
7. Click on "Continue" when you get the message "Google hasn't verified this app".
8. Click on "Continue" when you get the message "Sheet Solid sync wants access to your Google Account".
9. If the authentication succeeded, then you get the message "Authentication successful. Credentials written to credentials.json."
10. Stop the sever via CTRL + C.
11. Prepare the local instance of the Community Solid Server (CSS) via</p>
<pre><code>```shell
npm run prepare:pods
```
</code></pre>
<ol>
<li>
<p>Start the CSS instance via</p>
<p><code>shell
npm run start:pods</code></p>
<p>The agent will use the data in the resource <a href="http://localhost:3000/example/software">http://localhost:3000/example/software</a>.
The CSS instance is ready when the following message appears in the terminal:</p>
<p><code>text
Listening to server at http://localhost:3000/</code></p>
</li>
<li>
<p>Open another terminal.</p>
</li>
<li>
<p>Copy the example config <code>config.query.example.yml</code> to <code>config.yml</code> via</p>
<p><code>shell
cp config.query.example.yml config.yml</code></p>
</li>
<li>
<p>Set the <code>sheet.id</code> in <code>config.yml</code> to the ID of the Google Sheet.
    See <a href="https://github.com/SolidLabResearch/google-sheet-sync/tree/main#id-string">these instructions</a>.</p>
</li>
<li>
<p>Copy the example YARRRML rules <code>rules.example.yml</code> to <code>rules.yml</code> via</p>
<p><code>shell
cp rules.example.yml rules.yml</code></p>
</li>
<li>
<p>Start the agent via</p>
<p><code>shell
npm start</code></p>
</li>
<li>
<p>The agent has synced the data that is in the resource <a href="http://localhost:3000/example/software">http://localhost:3000/example/software</a> to
    the Google Sheet once the following message appears in the terminal:</p>
<p><code>text
Synchronisation cold start completed</code></p>
</li>
<li>
<p>Verify that the data is in the Google Sheet.</p>
</li>
<li>Change a cell in the Google Sheet.</li>
<li>
<p>The agent will detect this change and update the resource.
    The update is done when the following message appears in the terminal:</p>
<p><code>text
Synchronization done.</code></p>
</li>
<li>
<p>Verify that the agent updated the resource by browsing to <a href="http://localhost:3000/example/software">http://localhost:3000/example/software</a>.</p>
</li>
</ol>
<h3 id="postconditions">Postconditions</h3>
<p>None.</p>
<h2 id="follow-up-actions">Follow-up actions</h2>
<!--
List all concrete follow-up actions that someone has to do.
For example, adding helper code from the solution to Comunica.
-->

<ul>
<li>Users can only define one resource
  because the agent can only store the changes from a Google Sheet in one resource.
  The agent should be able to support multiple resource.
  <a href="https://github.com/SolidLabResearch/google-sheet-sync/issues/12">This</a> is the corresponding issue.</li>
</ul>
<h2 id="future-work">Future work</h2>
<!--
List ideas for future work.
These ideas don't have to be concrete.
You can create a new challenge/scenario for each idea.
-->

<ul>
<li>Automatically determine the corresponding YARRRML rules for a SPARQL query.</li>
</ul>
<h2 id="lessons-learned-about-developer-experience">Lessons learned about developer experience</h2>
<!--
List all lessons learned about your experience as a Solid developer:
issues you encountered, tasks that could be automated or could be made easier and so on.
-->

<p>None.</p>
<h2 id="contributors">Contributors</h2>
<ul>
<li>Challenge: Pieter Heyvaert</li>
<li>Solution: Pieter Heyvaert</li>
<li>Report: Pieter Heyvaert</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 <a href="https://solidlab.be/">SolidLab Flanders</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>